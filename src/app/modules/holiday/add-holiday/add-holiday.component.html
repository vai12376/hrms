<!-- @format -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<link href="http://cdn.rawgit.com/Eonasdan/bootstrap-datetimepicker/a549aa8780dbda16f6cff545aeabc3d71073911e/build/css/bootstrap-datetimepicker.css" rel="stylesheet" />
<div class="h3">Holiday</div>

<div class="shadow-sm p-5 mb-5 bg-white rounded">
    <form class="form-inline" [formGroup]="addHolidayForm" (ngSubmit)="onSave()">
        <div class="form-group">
            <input type="text" placeholder="Title" formControlName="title" class="form-control" />
            <div class="text-danger" *ngIf="
          _addHolidayForm['title'].errors &&
          (_addHolidayForm['title'].touched || invalidFormSubmited)
        ">
                <div *ngIf="_addHolidayForm['title'].errors?.['required']">
                    Title is required
                </div>
                <div *ngIf="_addHolidayForm['title'].errors?.['pattern']">
                    only alphabets are allowed
                </div>
                <div *ngIf="_addHolidayForm['title'].errors?.['minlength']">
                    minimum length is 3 characters
                </div>
                <div *ngIf="_addHolidayForm['title'].errors?.['maxlength']">
                    maxmimum length is 15 characters
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="input-group date" id="datetimepicker1">
                <input class="form-control" formControlName="startDate" placeholder="Start Date(yyyy-mm-dd)" [minDate]="minDate" name="dp" ngbDatepicker #d="ngbDatepicker" autocomplete="off" />
                <span class="input-group-addon">
          <span
            class="glyphicon glyphicon-calendar"
            (click)="d.toggle()"
          ></span>
                </span>
            </div>
            <div class="text-danger" *ngIf="
          _addHolidayForm['startDate'].errors &&
          (_addHolidayForm['startDate'].touched || invalidFormSubmited)
        ">
                <div *ngIf="_addHolidayForm['startDate'].errors?.['required']">
                    Start Date is required
                </div>
                <div *ngIf="_addHolidayForm['startDate'].errors?.['ngbDate']?.invalid">
                    Start Date is invalid
                </div>
                <div *ngIf="_addHolidayForm['startDate'].errors?.['ngbDate']?.minDate">
                    enter minimum Date of today
                </div>
            </div>
        </div>

        <div class="form-group">
            <div class="input-group date" id="datetimepicker1">
                <input class="form-control" formControlName="endDate" [minDate]="minDate" placeholder="End Date(yyyy-mm-dd)" name="dp" ngbDatepicker #ed="ngbDatepicker" autocomplete="off" />
                <span class="input-group-addon">
          <span
            class="glyphicon glyphicon-calendar"
            (click)="ed.toggle()"
          ></span>
                </span>
            </div>
            <div class="text-danger" *ngIf="
          _addHolidayForm['endDate'].errors &&
          (_addHolidayForm['endDate'].touched || invalidFormSubmited)
        ">
                <div *ngIf="_addHolidayForm['endDate'].errors?.['required']">
                    End Date is required
                </div>
                <div *ngIf="_addHolidayForm['endDate'].errors?.['ngbDate']?.invalid">
                    End Date is invalid
                </div>
                <div *ngIf="_addHolidayForm['endDate'].errors?.['ngbDate']?.minDate">
                    enter minimum Date of today
                </div>
                <div *ngIf="_addHolidayForm['endDate'].errors?.['fromToDate']">
                    End Date should not be previous date from Start Date
                </div>
            </div>
        </div>

        <button #saveBtn type="submit" class="btn btn-warning" [disabled]="addHolidayForm.invalid">
      Save
    </button>
    </form>
</div>

<app-list-holiday (onEditHolidayEvent)="onEditHoliday($event)"></app-list-holiday>